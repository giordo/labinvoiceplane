<!doctype html>
<html ng-app="ui.bootstrap.demo">
  <head>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.11.0/jquery-ui.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-animate.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-sanitize.js"></script>
    <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-2.1.3.js"></script>
    <script src="js_json.js"></script>
    <script src="js_utility.js"></script>
    <script src="js_angular-tree-control.js"></script>
    <script src="https://rawgithub.com/angular-ui/ui-sortable/master/src/sortable.js"></script>
    <script src="app.js"></script>
    <script src="js_modal-select-detail.js"></script>
    <script src="js_modal-select-item.js"></script>
    <script src="js_modal-yesno.js"></script>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.css" rel="stylesheet">
    
    <link href="css_tree-control.css" rel="stylesheet">
    <link href="css_style.css" rel="stylesheet">
  </head>
  <body>
    <div ng-controller="AppCtrl">
      <h1>ok</h1>
      <p>add + remove + order</p>
      
      
      <uib-tabset active="tmp.tabSelected">
        <!-- <uib-tab index="$index" ng-repeat="tab in tabs" disable="tab.disabled" > -->
        <!-- $scope.tmpYesNo.idx -->
        <uib-tab ng-repeat="tab in tabs" disable="tab.disabled" select="getCurrentTab($event);">
          <uib-tab-heading>
            {{tab.title}}
            <span class="close-heading glyphicon glyphicon-remove-sign" aria-hidden="true" ng-click="tabRemoveConfirm($index, $event)"></span>
          </uib-tab-heading>
          <br/>
          <input type="index" ng-model="tab.title"/>
          <br/>
          {{tmp.tabSelected}}
          <br/>
          <button type="button" class="btn btn-default" ng-click="openModalItem('lg', false);">Add item</button>
          <div>Total price: {{tab.items|sumByObjKey:'total_row_price'}}</div>
          <ul>
            <li ng-repeat="o in tab.items track by $index">
            <!-- <li ng-repeat="o in tabs[tmp.tabSelected].items track by tab.tabCounter"> -->
                {{ o.qty }} - {{ o.label }} - {{o.total_price}} - {{o.total_row_price}} 
                <button type="button" class="btn btn-default" ng-click="openModalDetail('lg', $index, tab.tabCounter)">{{o.code}}</button>
                <!-- <button type="button" class="btn btn-default" ng-click="openModalDetail('lg', tab.tabCounter)">{{o.code}}</button> -->
               
            </li>
          </ul>
        </uib-tab>
        <uib-tab-button handler="addTab();" text="+"></uib-tab-button>
      </uib-tabset>
      
    </div>
  </body>
</html>

